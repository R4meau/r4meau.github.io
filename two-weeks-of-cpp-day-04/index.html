<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="IntroThis is day 04 of the Two weeks of C++ series. Today is about classes and Object Oriented Programming.  A class is a user-defined type provided to represent a concept in the code of a program. […">
<meta name="keywords" content="learning,cpp,competitive programming,twocpp">
<meta property="og:type" content="article">
<meta property="og:title" content="Two Weeks of C++ - Day 04">
<meta property="og:url" content="https://rameau.me/two-weeks-of-cpp-day-04/index.html">
<meta property="og:site_name" content="Nick Rameau&#39;s Den">
<meta property="og:description" content="IntroThis is day 04 of the Two weeks of C++ series. Today is about classes and Object Oriented Programming.  A class is a user-defined type provided to represent a concept in the code of a program. […">
<meta property="og:updated_time" content="2018-09-21T02:07:51.984Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Two Weeks of C++ - Day 04">
<meta name="twitter:description" content="IntroThis is day 04 of the Two weeks of C++ series. Today is about classes and Object Oriented Programming.  A class is a user-defined type provided to represent a concept in the code of a program. […">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Two Weeks of C++ - Day 04 | Nick Rameau&#39;s Den</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
    <link rel="canonical" href="two-weeks-of-cpp-day-04/index.html">
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
 <span id="menu">
 <!-- Commenting this section because I'm already showing the navbar on top of posts -->
<!--    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
        
      </ul>
    </span>
    <br/> -->
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/updates/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/vim-tricks-panes/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://rameau.me/two-weeks-of-cpp-day-04/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://rameau.me/two-weeks-of-cpp-day-04/&text=Two Weeks of C++ - Day 04"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://rameau.me/two-weeks-of-cpp-day-04/&is_video=false&description=Two Weeks of C++ - Day 04"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Two Weeks of C++ - Day 04&body=Check out this article: https://rameau.me/two-weeks-of-cpp-day-04/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://rameau.me/two-weeks-of-cpp-day-04/&name=Two Weeks of C++ - Day 04&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Intro"><span class="toc-number">1.</span> <span class="toc-text">Intro</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Concrete-classes"><span class="toc-number">1.1.</span> <span class="toc-text">Concrete classes</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#const-as-suffix-of-method"><span class="toc-number">1.1.1.</span> <span class="toc-text">const as suffix of method</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#default-constructor"><span class="toc-number">1.1.2.</span> <span class="toc-text">default constructor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Operator-overloading"><span class="toc-number">1.1.3.</span> <span class="toc-text">Operator overloading</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-destructor"><span class="toc-number">1.1.4.</span> <span class="toc-text">The destructor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resource-Acquisition-Is-Initialization-RAII"><span class="toc-number">1.1.5.</span> <span class="toc-text">Resource Acquisition Is Initialization (RAII)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Initializing-containers"><span class="toc-number">1.1.6.</span> <span class="toc-text">Initializing containers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Initializer-list-constructor"><span class="toc-number">1.1.6.1.</span> <span class="toc-text">1. Initializer-list constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-push-back-method"><span class="toc-number">1.1.6.2.</span> <span class="toc-text">2. push_back method</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Abstract-classes"><span class="toc-number">1.2.</span> <span class="toc-text">Abstract classes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Virtual-functions"><span class="toc-number">1.3.</span> <span class="toc-text">Virtual functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-vtbl"><span class="toc-number">1.3.1.</span> <span class="toc-text">The vtbl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-virtual-destructor"><span class="toc-number">1.3.2.</span> <span class="toc-text">The virtual destructor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Explicit-overriding"><span class="toc-number">1.4.</span> <span class="toc-text">Explicit overriding</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hierarchy-navigation"><span class="toc-number">1.5.</span> <span class="toc-text">Hierarchy navigation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Avoiding-resource-leaks"><span class="toc-number">1.6.</span> <span class="toc-text">Avoiding resource leaks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Copy-and-Move"><span class="toc-number">1.7.</span> <span class="toc-text">Copy and Move</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Copying-containers"><span class="toc-number">1.7.1.</span> <span class="toc-text">Copying containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Moving-Containers"><span class="toc-number">1.7.2.</span> <span class="toc-text">Moving Containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-rvalue-reference"><span class="toc-number">1.7.3.</span> <span class="toc-text">The rvalue reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-default-delete-and-explicit-specifiers"><span class="toc-number">1.7.4.</span> <span class="toc-text">The default, delete and explicit specifiers</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Conclusion"><span class="toc-number">2.</span> <span class="toc-text">Conclusion</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-number">2.1.</span> <span class="toc-text">References</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        <!-- Commenting this condition because I still want the header to be displayed for posts. -->
        
          <header id="header">
  <a href="/">
  
    
      <div id="logo" style="background-image: url(https://www.gravatar.com/avatar/04188522e784edc72ea9de6f19cd353f);"></div>
    
  
    <div id="title">
      <h1>Nick Rameau&#39;s Den</h1>
    </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fa fa-bars fa-2x"></i></a>
      </li>
       
        <li><a href="/">Home</a></li>
       
        <li><a href="/about/">About</a></li>
       
        <li><a href="/archives/">Writing</a></li>
       
        <li><a href="/projects/">Projects</a></li>
      
    </ul>
  </div>
</header>

        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Two Weeks of C++ - Day 04
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Written on</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-11-19T17:37:00.000Z" itemprop="datePublished">11-19-2017</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/competitive-programming/">competitive programming</a>, <a class="tag-link" href="/tags/cpp/">cpp</a>, <a class="tag-link" href="/tags/learning/">learning</a>, <a class="tag-link" href="/tags/twocpp/">twocpp</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>This is day 04 of the <a href="/tags/twocpp/">Two weeks of C++</a> series. Today is about classes and Object Oriented Programming.</p>
<blockquote>
<p>A class is a user-defined type provided to represent a concept in the code of a program. […] A program built out of a well chosen set of classes is far easier to understand and get right than one that builds everything directly in terms of the built-in types.</p>
<p>~ <cite>Bjarne Stroustrup</cite></p>
</blockquote>
<p>If it’s your first time here, please, read the <a href="/two-weeks-of-cpp-day-00/#Disclaimer">disclaimers</a> before moving on.</p>
<h2 id="Concrete-classes"><a href="#Concrete-classes" class="headerlink" title="Concrete classes"></a>Concrete classes</h2><p>Concrete classes basically behave like built-in types. If you can instantiate an object directly using a class, this class is definitely a concrete class.</p>
<h3 id="const-as-suffix-of-method"><a href="#const-as-suffix-of-method" class="headerlink" title="const as suffix of method"></a><code>const</code> as suffix of method</h3><p>When <code>const</code> is applied to a class member function (a method), this function cannot modify the state of the object it is called for:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keyword">int</span> age;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Person::getAge() <span class="keyword">const</span> &#123;</div><div class="line">  age = <span class="number">42</span>; <span class="comment">// KO, const method cannot change state</span></div><div class="line">  <span class="keyword">return</span> age;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="default-constructor"><a href="#default-constructor" class="headerlink" title="default constructor"></a>default constructor</h3><p>If a constructor can be invoked with no arguments, it’s called a default constructor. A default constructor eliminates the possibilities of uninitialized objects of its type.</p>
<h3 id="Operator-overloading"><a href="#Operator-overloading" class="headerlink" title="Operator overloading"></a>Operator overloading</h3><p>I’ve talked about operator overloading a little bit in <a href="http://localhost:4000/two-weeks-of-cpp-day-02/#Classes" target="_blank" rel="external">day 02</a>. I realized that I didn’t understand the difference between the subscript operator and operator overload back then, so I updated that post.</p>
<p>It’s quite an amazing language feature I didn’t know before C++. It’s one of those features that make me feel so powerful.</p>
<p>Operator overloading is when you give an operator more than one meaning (overloading it) by implementing your own logic depending on your user-defined type.</p>
<p>Refer to the References section below for examples.</p>
<p>It’s good to note that the syntax for overloaded operators is fixed by the language, therefore, you cannot define, for example, an unary <code>/</code> operator. It’s also not possible to change the meaning of an operator for built-in types: You cannot redefine the <code>+</code> operator to subtract integers.</p>
<h3 id="The-destructor"><a href="#The-destructor" class="headerlink" title="The destructor"></a>The destructor</h3><p>In higher level languages, you don’t need to implement a class destructor because of automatic garbage collection. The destructor is a way to release all the memory that you acquired during initialization. A good way to prevent memory leaks.</p>
<p>You define a destructor by using the complement operator (<code>~</code>, AKA tilde) on a function of the same name as the class.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector</span> &#123;</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keyword">double</span> *elem;</div><div class="line">  <span class="keyword">int</span> sz;</div><div class="line">    </div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Vector(<span class="keyword">int</span> s) :elem&#123;<span class="keyword">new</span> <span class="keyword">double</span>[s]&#125;, sz&#123;s&#125; <span class="comment">// Acquire resource</span></div><div class="line">  &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s; ++i) <span class="comment">// Initialize elements</span></div><div class="line">      elem[i] = <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  ~Vector() &#123; <span class="keyword">delete</span>[] elem; &#125; <span class="comment">// Release resource</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now the user of that class doesn’t have to worry about class-level memory leaks. It’s the same as using an <code>int</code> or <code>char</code> type.</p>
<h3 id="Resource-Acquisition-Is-Initialization-RAII"><a href="#Resource-Acquisition-Is-Initialization-RAII" class="headerlink" title="Resource Acquisition Is Initialization (RAII)"></a>Resource Acquisition Is Initialization (RAII)</h3><p>RAII is the technique of acquiring resource through a constructor and releasing that resource later on through a destructor. Just like the example above.</p>
<p>Allocating memory in a large scope can lead to error-prone code and memory leaks if you’re not careful enough.</p>
<h3 id="Initializing-containers"><a href="#Initializing-containers" class="headerlink" title="Initializing containers"></a>Initializing containers</h3><p>When it comes to initializing containers, the first method that comes to mind is to initialize it with an appropriate number of elements and then assigning to them. There are more elegant ways and the author shares his two most favorite methods:</p>
<ol>
<li>An initializer-list constructor</li>
<li>A push_back method</li>
</ol>
<h4 id="1-Initializer-list-constructor"><a href="#1-Initializer-list-constructor" class="headerlink" title="1. Initializer-list constructor"></a>1. Initializer-list constructor</h4><p>By using constructor overloading, we can make it possible to initialize the container using a braced-init-list:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;initializer_list&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector</span> &#123;</span></div><div class="line">  <span class="comment">// ...</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Vector(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; lst)</div><div class="line">   :elem&#123;<span class="keyword">new</span> <span class="keyword">double</span>[lst.size()]&#125;, sz&#123;lst.size()&#125; &#123; </div><div class="line">     copy(lst.begin(), lst.end(), elem);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="2-push-back-method"><a href="#2-push-back-method" class="headerlink" title="2. push_back method"></a>2. push_back method</h4><p>A push_back method adds a new element at the end of the container. It increases the size of the container by one and reallocates the stored space if, and only if, the new size is greater than the current capacity.</p>
<p>Here’s an example of its usage:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function">Vector <span class="title">read</span><span class="params">(istream&amp; is)</span></span></div><div class="line">&#123;</div><div class="line">  Vector v;</div><div class="line">  </div><div class="line">  <span class="keyword">for</span> (<span class="keyword">double</span> d; is &gt;&gt; d;)</div><div class="line">    v.push_back(d);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> v;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Abstract-classes"><a href="#Abstract-classes" class="headerlink" title="Abstract classes"></a>Abstract classes</h2><p>An abstract class is a class that cannot instantiate an object. Here’s an example:</p>
<figure class="highlight cpp"><figcaption><span>An abstract class</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="keyword">virtual</span> <span class="keyword">double</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span>) = <span class="number">0</span>;</div><div class="line">  <span class="function"><span class="keyword">virtual</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</div><div class="line">  <span class="keyword">virtual</span> ~Container() &#123;&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>The reason why it cannot instantiate an object is there’s no implementation, only an interface.</p>
<p>A virtual function is a function that <code>may</code> be redefined later in a class derived from this one.</p>
<p>The <code>= 0</code> at the end of the virtual functions above means that the functions <code>must</code> be redefined later by a derived class for this derived class to become concrete. They’re known as <code>pure virtual</code> functions.</p>
<p>A class with a pure virtual function is called an <code>abstract class</code>.</p>
<p>A derived class that implements all the pure virtual functions of its base class is a concrete class. This class can instantiate objects as we saw earlier.</p>
<p>An abstract class can only act as the interface to a class that implements its pure virtual functions.</p>
<p>A class that acts as the interface to a variety of other classes is often called a <code>polymorphic class</code>.</p>
<p>A class that derives from a base class is called a <code>subclass</code> and the base class is called a <code>superclass</code>.</p>
<p>The subclass inherits members from its superclass. We call this <code>class inheritance</code>.</p>
<p>When a subclass redefines a virtual function of its superclass, it’s called <code>overriding</code>.</p>
<p>Most abstract classes don’t have a constructor since they don’t know which resource their instance will need but they do have a destructor, which is also virtual since we might want to manipulate multiple instances using one generic function. Let’s see an example:</p>
<figure class="highlight cpp"><figcaption><span>A generic function</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">use</span><span class="params">(Container &amp;c)</span> </span>&#123;</div><div class="line">  <span class="keyword">const</span> <span class="keyword">int</span> sz = c.size();</div><div class="line">  </div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i != sz; ++i)</div><div class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; c[i] &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><figcaption><span>A concrete class, subclass of Container</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector_container</span> :</span> <span class="keyword">public</span> Container &#123;</div><div class="line">  Vector v;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Vector_container(<span class="keyword">int</span> s) : v(s) &#123;&#125;</div><div class="line">  ~Vector_container() &#123;&#125;</div><div class="line">  </div><div class="line">  <span class="keyword">double</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i) &#123; <span class="keyword">return</span> v[i]; &#125;</div><div class="line">  <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> v.size(); &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><figcaption><span>Another subclass of Container</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">List_container</span> :</span> <span class="keyword">public</span> Container &#123;</div><div class="line">  <span class="built_in">std</span>::<span class="built_in">list</span>&lt;<span class="keyword">double</span>&gt; ld;</div><div class="line">  </div><div class="line"><span class="keyword">public</span>:</div><div class="line">  List_container() &#123;&#125;</div><div class="line">  List_container(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; il) :ld&#123;il&#125; &#123;&#125;</div><div class="line">  ~List_container() &#123;&#125;</div><div class="line">  </div><div class="line">  <span class="keyword">double</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i);</div><div class="line">  <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> ld.size(); &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">double</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i)</div><div class="line">&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; x : ld) &#123;</div><div class="line">    <span class="keyword">if</span> (i == <span class="number">0</span>) <span class="keyword">return</span> x;</div><div class="line">    --i;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">throw</span> out_of_range(<span class="string">"List Container"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><figcaption><span>Usage</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  Vector_container vc &#123;<span class="number">42</span>, <span class="number">21</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">22</span>, <span class="number">14</span>, <span class="number">0</span>&#125;;</div><div class="line">  use(vc);</div><div class="line">  </div><div class="line">  List_container lc = &#123;<span class="number">34</span>, <span class="number">55</span>, <span class="number">67</span>, <span class="number">2</span>, <span class="number">46</span>, <span class="number">1</span>&#125;;</div><div class="line">  use(lc);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Notes:</p>
<ul>
<li>The <code>use</code> function doesn’t know anything about implementation details. It simply uses the <code>size</code> method and the subscript operator without any idea of which class provides their implementation.</li>
<li>The destructor of the Vector instance is implicitly called by the destructor of Vector_container.</li>
</ul>
<h2 id="Virtual-functions"><a href="#Virtual-functions" class="headerlink" title="Virtual functions"></a>Virtual functions</h2><h3 id="The-vtbl"><a href="#The-vtbl" class="headerlink" title="The vtbl"></a>The vtbl</h3><p>For a base class to be able to resolve to the right function of its subclasses when used as in the example above, the compiler creates a table of pointers to functions for all the virtual functions. This table is often called the <code>virtual function table</code> or <code>vtbl</code>.</p>
<h3 id="The-virtual-destructor"><a href="#The-virtual-destructor" class="headerlink" title="The virtual destructor"></a>The virtual destructor</h3><p>A virtual destructor is essential for an abstract class because an object of a derived class is usually manipulated through the interface provided by its abstract base class.</p>
<h2 id="Explicit-overriding"><a href="#Explicit-overriding" class="headerlink" title="Explicit overriding"></a>Explicit overriding</h2><p>A function in a subclass overrides a virtual function in a superclass if those functions have exactly the same name and type. In large hierarchies, however, it’s not always obvious if overriding was intended. To avoid confusion, a programmer can explicitly state that a function is meant to override using the <code>override</code> specifier:</p>
<figure class="highlight cpp"><figcaption><span>Explicit overriding</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">List_container</span> :</span> <span class="keyword">public</span> Container &#123;</div><div class="line">  <span class="built_in">std</span>::<span class="built_in">list</span>&lt;<span class="keyword">double</span>&gt; ld;</div><div class="line">  </div><div class="line"><span class="keyword">public</span>:</div><div class="line">  List_container() &#123;&#125;</div><div class="line">  List_container(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; il) :ld&#123;il&#125; &#123;&#125;</div><div class="line">  ~List_container() &#123;&#125;</div><div class="line">  </div><div class="line">  <span class="keyword">double</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i) override;</div><div class="line">  <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> override </span>&#123; <span class="keyword">return</span> ld.size(); &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">double</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i)</div><div class="line">&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; x : ld) &#123;</div><div class="line">    <span class="keyword">if</span> (i == <span class="number">0</span>) <span class="keyword">return</span> x;</div><div class="line">    --i;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">throw</span> out_of_range(<span class="string">"List Container"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Notes:</p>
<ul>
<li>I would get an error if I mistyped size. (no such method in the base class)</li>
<li>I would also get an error if I used an operator other than the subscript operator.</li>
</ul>
<h2 id="Hierarchy-navigation"><a href="#Hierarchy-navigation" class="headerlink" title="Hierarchy navigation"></a>Hierarchy navigation</h2><p>In <a href="#Abstract-classes">our example above</a>, the <code>use</code> function accepts a container by reference so we can treat all Containers alike. However, what if we wanted to use a method from a specific type of Container?</p>
<p>We can use the <code>dynamic_cast</code> operator:</p>
<figure class="highlight cpp"><figcaption><span>Using dynamic_cast</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">use</span><span class="params">(Container &amp;c)</span> </span>&#123;</div><div class="line">  <span class="keyword">const</span> <span class="keyword">int</span> sz = c.size();</div><div class="line">  </div><div class="line">  <span class="keyword">if</span> ((List_container* lc = <span class="keyword">dynamic_cast</span>&lt;List_container*&gt;(c)) &#123;</div><div class="line">    <span class="comment">// Use the method we want from List_container</span></div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// "c" is not an instance of List_container, </span></div><div class="line">    <span class="comment">// dynamic_cast returned nullptr</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i != sz; ++i)</div><div class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; c[i] &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>When a different type is unacceptable, we should dynamic_cast to a reference type. If the object is not of the expected type, standard library <code>bad_cast</code> is thrown:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">  Some_Type&amp; st = <span class="keyword">dynamic_cast</span>&lt;Some_type&amp;&gt;(*t);</div><div class="line">&#125; <span class="keyword">catch</span> (<span class="built_in">std</span>::bad_cast e) &#123;</div><div class="line">  <span class="comment">// Not the type we expected</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Notice how code is cleaner when dynamic_cast is used with restraint.</p>
<blockquote>
<p>If we can avoid using type information, we can write simpler and more efficient code.</p>
<p>~ <cite>Bjarne Stroustrup</cite></p>
</blockquote>
<h2 id="Avoiding-resource-leaks"><a href="#Avoiding-resource-leaks" class="headerlink" title="Avoiding resource leaks"></a>Avoiding resource leaks</h2><blockquote>
<p>Functions returning a pointer to an object allocated on the free store are dangerous.</p>
<p>~ <cite> Bjarne Stroustrup</cite></p>
</blockquote>
<p>This is a really important matter. If a function returns a pointer to a dynamically allocated object, there’s a high chance the user of that function forgets to free the allocated memory.</p>
<figure class="highlight cpp"><figcaption><span>Not using unique_ptr</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function">Some_type* <span class="title">Some_function</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  </div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Some_type;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The best solution for this is to return <code>unique_ptr</code>s instead:</p>
<figure class="highlight cpp"><figcaption><span>Using unique_ptr</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">unique_ptr</span>&lt;Some_type&gt; some_function()</div><div class="line">&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  </div><div class="line">  <span class="keyword">return</span> <span class="built_in">unique_ptr</span>&lt;Some_type&gt;&#123;<span class="keyword">new</span> Some_type&#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now, the user of this function doesn’t need to worry about memory leaks, the allocated memory is implicitly destroyed as soon as its unique_ptr goes out of scope.</p>
<h2 id="Copy-and-Move"><a href="#Copy-and-Move" class="headerlink" title="Copy and Move"></a>Copy and Move</h2><h3 id="Copying-containers"><a href="#Copying-containers" class="headerlink" title="Copying containers"></a>Copying containers</h3><p>An object, whether it’s of a user-defined type or a builtin type, can be copied. Copied, as in, each of its members get cloned to another object. This kind of “copy” is called a memberwise copy.</p>
<p>When designing a class, we must always consider if and how an object might be copied. Memberwise copy is often the right semantics for copy when it comes to simple concrete types;</p>
<figure class="highlight cpp"><figcaption><span>A slightly simplified version of the standard library "complex"</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">complex</span> &#123;</span></div><div class="line">  <span class="keyword">double</span> re, im;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="keyword">complex</span>(<span class="keyword">double</span> r, <span class="keyword">double</span> i) :re&#123;r&#125;, im&#123;i&#125; &#123;&#125;</div><div class="line">  <span class="keyword">complex</span>(<span class="keyword">double</span> r) :re&#123;r&#125;, im&#123;<span class="number">0</span>&#125; &#123;&#125;</div><div class="line">  <span class="keyword">complex</span>() :re&#123;<span class="number">0</span>&#125;, im&#123;<span class="number">0</span>&#125; &#123;&#125;</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">double</span> <span class="title">real</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> re; &#125;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">real</span><span class="params">(<span class="keyword">double</span> r)</span> </span>&#123; re = r; &#125;</div><div class="line">  <span class="function"><span class="keyword">double</span> <span class="title">imag</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> im; &#125;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">imag</span><span class="params">(<span class="keyword">double</span> i)</span> </span>&#123; im = i; &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">complex</span>&amp; <span class="keyword">operator</span>+=(<span class="keyword">complex</span> z) &#123; re+=z.re; im+=z.im; <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</div><div class="line">  <span class="keyword">complex</span>&amp; <span class="keyword">operator</span>-=(<span class="keyword">complex</span> z) &#123; re-=z.re; im-=z.im; <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</div><div class="line">  <span class="keyword">complex</span>&amp; <span class="keyword">operator</span>*=(<span class="keyword">complex</span> z); <span class="comment">// defined somewhere, out-of-class</span></div><div class="line">  <span class="keyword">complex</span>&amp; <span class="keyword">operator</span>/=(<span class="keyword">complex</span> z); <span class="comment">// defined somewhere, out-of-class</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><figcaption><span>Using memberwise copy on a simple concrete type</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">complex</span> z1)</span></span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">complex</span> z2&#123;z1&#125;; <span class="comment">// z2 now has the same values as z1</span></div><div class="line">  <span class="keyword">complex</span> z3;</div><div class="line">  z3 = z2; <span class="comment">// z3 also has the same values as z1</span></div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>but when it comes to more sophisticated concrete types - a resource handle - it’s not such a good idea.</p>
<figure class="highlight cpp"><figcaption><span>Using memberwise copy on a resource handle</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">bad_copy</span><span class="params">(Vector v1)</span></span></div><div class="line">&#123;</div><div class="line">  Vector v2 = v1;</div><div class="line">  v1[<span class="number">0</span>] = <span class="number">42</span>; <span class="comment">// v2's first element is now also 42</span></div><div class="line">  v2[<span class="number">1</span>] = <span class="number">21</span>; <span class="comment">// v1's second element is now also 21</span></div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The fact that Vector has a destructor is already a sign that memberwise copy is not the right copy semantics for this class. So we must also define a copy assignment and a copy constructor. It’s called the rule of three.</p>
<figure class="highlight cpp"><figcaption><span>A better Vector interface</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector</span> &#123;</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keyword">double</span> *elem;</div><div class="line">  <span class="keyword">int</span> sz;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Vector(<span class="keyword">int</span> s); <span class="comment">// constructor: establish invariant, acquire resources</span></div><div class="line">  </div><div class="line">  ~Vector(); <span class="comment">// destructor: release resources</span></div><div class="line">  Vector(<span class="keyword">const</span> Vector&amp; a); <span class="comment">// copy constructor</span></div><div class="line">  Vector&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> Vector&amp; a); <span class="comment">// copy assignment</span></div><div class="line">  </div><div class="line">  <span class="keyword">double</span> &amp;<span class="keyword">operator</span>[](<span class="keyword">int</span> i);</div><div class="line">  <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Here’s what a copy constructor for Vector looks like:</p>
<figure class="highlight cpp"><figcaption><span>Implementation of the copy constructor</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Vector::Vector(<span class="keyword">const</span> Vector&amp; a)</div><div class="line">  :elem&#123;<span class="keyword">new</span> <span class="keyword">double</span>[a.sz]&#125;, sz&#123;a.sz&#125;</div><div class="line">&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sz; ++i)</div><div class="line">    elem[i] = a[i];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>And the copy assignment:</p>
<figure class="highlight cpp"><figcaption><span>Implementation of the copy assignment</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Vector&amp; Vector::<span class="keyword">operator</span>=(<span class="keyword">const</span> Vector&amp; a)</div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (&amp;a == <span class="keyword">this</span>) <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">// No need to copy the same object</span></div><div class="line">  </div><div class="line">  <span class="keyword">double</span>* p = <span class="keyword">new</span> <span class="keyword">double</span>[a.sz];</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.sz; ++i)</div><div class="line">    p[i] = a[i];</div><div class="line">  <span class="keyword">delete</span>[] elem; <span class="comment">// delete old elements</span></div><div class="line">  elem = p;</div><div class="line">  sz = a.sz;</div><div class="line">  <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">// "this" is predefined in a method and points to the current instance of the class</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Moving-Containers"><a href="#Moving-Containers" class="headerlink" title="Moving Containers"></a>Moving Containers</h3><p>Copying can be costly for large containers. We already know how to avoid the cost of copying while passing an object to a function by passing it by reference, but it’s not possible to return a local object by reference from a function.</p>
<p>Consider this addition operator overload for Vector:</p>
<figure class="highlight"><figcaption><span>An addition operator overload for Vector</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Vector Vector::operator+(const Vector&amp; a, const Vector&amp; b)</div><div class="line">&#123;</div><div class="line">  if (a.size() != b.size())</div><div class="line">    throw Vector_size_mismatch&#123;&#125;; // let's pretend we defined this exception earlier</div><div class="line">  </div><div class="line">  Vector res(a.size());</div><div class="line">  for (int i = 0; i &lt; a.size(); ++i)</div><div class="line">    res[i] = a[i] + b[i];</div><div class="line">  return res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now, with a use case like this:</p>
<figure class="highlight cpp"><figcaption><span>Addition operator usage</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">const</span> Vector&amp; x, <span class="keyword">const</span> Vector&amp; y, <span class="keyword">const</span> Vector&amp; z)</span></span></div><div class="line">&#123;</div><div class="line">  Vector w;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  w = x + y + z;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We are actually copying Vector twice (y + z, then x + (y + z)). Now imagine one of those Vectors being about 10000 doubles large. That would be quite a lot to copy around.</p>
<p>Remember, <code>res</code> is just a temporary result that we want to get out of the addition operator overload, therefore, we didn’t want to copy it, we wanted to move it. This is when you realize your class needs a move constructor and a move assignment so you can state, at the right moment, the intent of moving instead of copying. This is an expansion to the rule of three, it’s called the rule of five.</p>
<figure class="highlight cpp"><figcaption><span>An even better Vector interface</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector</span> &#123;</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keyword">double</span> *elem;</div><div class="line">  <span class="keyword">int</span> sz;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Vector(<span class="keyword">int</span> s); <span class="comment">// constructor: establish invariant, acquire resources</span></div><div class="line">  </div><div class="line">  ~Vector(); <span class="comment">// destructor: release resources</span></div><div class="line">  Vector(<span class="keyword">const</span> Vector&amp; a); <span class="comment">// copy constructor</span></div><div class="line">  Vector&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> Vector&amp; a); <span class="comment">// copy assignment</span></div><div class="line">  Vector(Vector&amp;&amp; a); <span class="comment">// move constructor</span></div><div class="line">  Vector &amp; <span class="keyword">operator</span>=(Vector&amp;&amp; a); <span class="comment">// move assignment</span></div><div class="line">  </div><div class="line">  <span class="keyword">double</span> &amp;<span class="keyword">operator</span>[](<span class="keyword">int</span> i);</div><div class="line">  <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><figcaption><span>Implementation of the move constructor</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Vector(Vector&amp;&amp; a)</div><div class="line">  :elem&#123;a.elem&#125;, <span class="comment">// Grab the value from the other Vector</span></div><div class="line">  sz&#123;a.sz&#125;</div><div class="line">&#123;</div><div class="line">  a.elem = <span class="literal">nullptr</span>; <span class="comment">// Makes sure it's empty</span></div><div class="line">  a.sz = <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><figcaption><span>Implementation of the move assignment</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Vector&amp; Vector::<span class="keyword">operator</span>=(Vector&amp;&amp; a)</div><div class="line">&#123;</div><div class="line">  <span class="keyword">if</span> (&amp;a == <span class="keyword">this</span>) <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">// no need to move the same object</span></div><div class="line"></div><div class="line">  <span class="keyword">delete</span>[] elem; <span class="comment">// Get rid of old elements</span></div><div class="line">  elem = a.elem; <span class="comment">// Grab the elements</span></div><div class="line">  sz = a.sz;</div><div class="line">  a.elem = <span class="literal">nullptr</span>; <span class="comment">// Makes sure it's empty</span></div><div class="line">  a.sz = <span class="number">0</span>;</div><div class="line">  <span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now, when we return a Vector object from a function, the compiler will choose the move constructor instead. So now, w = x + y + z involves no copying of a Vector.</p>
<h3 id="The-rvalue-reference"><a href="#The-rvalue-reference" class="headerlink" title="The rvalue reference"></a>The rvalue reference</h3><p>It’s important to notice that we use <code>&amp;&amp;</code> as the argument when it comes to the move constructor and assignment. It means <code>rvalue reference</code>.</p>
<p>An rvalue is a temporary value that does not persist beyond the expression that uses it. It’s also a value that can only be used on the right-hand side of an assignment.</p>
<p>The move assignment and constructor have the power to grab or “steal” the resources held by the argument (i.e.: a pointer to a dynamically-allocated object), leaving it in a valid but indeterminate state, which is why we assign a <code>nullptr</code> to the elements of the other Vector after grabbing them.</p>
<p>If you want to be explicit about a move operation (you’re sure you will not use an object anymore), you can use the standard library <code>move</code> method:</p>
<figure class="highlight cpp"><figcaption><span>Explicit move operation</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function">Vector <span class="title">f</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">  <span class="function">Vector <span class="title">a</span><span class="params">(<span class="number">1000</span>)</span></span>;</div><div class="line">  <span class="function">Vector <span class="title">b</span><span class="params">(<span class="number">1000</span>)</span></span>;</div><div class="line">  <span class="function">Vector <span class="title">c</span><span class="params">(<span class="number">1000</span>)</span></span>;</div><div class="line">  </div><div class="line">  a = b; <span class="comment">// An implicit copy</span></div><div class="line">  c = <span class="built_in">std</span>::move(b); <span class="comment">// An explicit move</span></div><div class="line">  <span class="keyword">return</span> a; <span class="comment">// An implicit move (since we have the move constructor)</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Here are the five situations when an object is copied or moved:</p>
<ol>
<li>As the source of an assignment</li>
<li>As an object initializer</li>
<li>As a function argument</li>
<li>As a function return value</li>
<li>As an exception</li>
</ol>
<p>The copy or move operators will be applied consequently.</p>
<h3 id="The-default-delete-and-explicit-specifiers"><a href="#The-default-delete-and-explicit-specifiers" class="headerlink" title="The default, delete and explicit specifiers"></a>The <code>default</code>, <code>delete</code> and <code>explicit</code> specifiers</h3><p>The default constructor, the copy constructor, the move constructor, the copy assignment, the move assignment and the destructor are called special member functions/methods of a class.</p>
<p>If you do not define those special member functions, the compiler will implicitly do it for you.</p>
<p>when you are explicit about some special member functions, the compiler will not generate other special member functions. For example, if you define a destructor, the compiler will not implicitly generate a move constructor.</p>
<p>You can force the compiler to generate the move constructor by using the <code>default</code> specifier:</p>
<figure class="highlight cpp"><figcaption><span>Using the 'default' specifier</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  SomeClass(someType);</div><div class="line">  ~SomeClass(someType);</div><div class="line">  SomeClass(SomeClass&amp;&amp;) = <span class="keyword">default</span>; <span class="comment">// I really do want the default move constructor</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Those special member functions are the only functions that can be defaulted.</p>
<p>Sometimes, having a default copy or move operation is a bad idea. It’s almost always the case when your class acquire resources. To make sure the compiler doesn’t generate a default copy or move operation, you use the <code>delete</code> specifier:</p>
<figure class="highlight cpp"><figcaption><span>Using the 'delete' specifier</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  SomeClass(someType);</div><div class="line">  ~SomeClass(someType);</div><div class="line">  SomeClass(SomeClass&amp;&amp;) = <span class="keyword">delete</span>; <span class="comment">// No default move constructor</span></div><div class="line">  SomeClass&amp; <span class="keyword">operator</span>=(SomeClass&amp;&amp;) = <span class="keyword">delete</span>; <span class="comment">// No default move assignment</span></div><div class="line">  SomeClass(<span class="keyword">const</span> SomeClass&amp;) = <span class="keyword">delete</span>; <span class="comment">// No default copy constructor</span></div><div class="line">  SomeClass&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> SomeClass&amp;) = <span class="keyword">delete</span>; <span class="comment">// No default copy assignment</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now, trying to move/copy an instance of <code>SomeClass</code> will raise an error.</p>
<p>It’s important to note that it was unnecessary in this example since we added a destructor.<br>As I said earlier, being explicit about some special member functions prevents the compiler from generating other special member functions.</p>
<p>If we take a look at our <code>Vector</code> class from last day, it allows for an implicit conversion from <code>int</code> to <code>Vector</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Vector v = <span class="number">42</span>; <span class="comment">// v now has 42 elements</span></div></pre></td></tr></table></figure>
<p>This is considered bad practice, to avoid it, we make the constructor explicit by using the <code>explicit</code> specifier.</p>
<figure class="highlight cpp"><figcaption><span>Using the 'explicit' specifier</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="function"><span class="keyword">explicit</span> <span class="title">Vector</span><span class="params">(<span class="keyword">int</span> s)</span></span>; <span class="comment">// No implicit conversion from int to Vector</span></div><div class="line">  <span class="keyword">double</span>&amp; <span class="keyword">operator</span>[](<span class="keyword">int</span> i);</div><div class="line">  <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keyword">double</span>∗ elem;</div><div class="line">  <span class="keyword">int</span> sz;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>Now, using it looks like:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function">Vector <span class="title">v1</span><span class="params">(<span class="number">42</span>)</span></span>; <span class="comment">// OK, v1 has 42 elements</span></div><div class="line">Vector v2 = <span class="number">21</span>; <span class="comment">// KO, no implicit conversion from int to Vector</span></div></pre></td></tr></table></figure>
<blockquote>
<p>In many languages, resource management is primarily delegated to a garbage collector. C++ also offers a garbage collection interface so that you can plug in a garbage collector. However, I consider garbage collection the last alternative after cleaner, more general, and better localized alternatives to resource management have been exhausted.</p>
<p>~ <cite>Bjarne Stroustrup</cite></p>
</blockquote>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>Whew lad! This is the longest article in this series so far. Of course, what is C++ without OOP? Yeah, it’s practically C.</p>
<p>I really don’t expect anyone to follow this series, but if you do, you must have noticed the big gap between this article and the last one. Yeah, a lot has been happening in my little bubble lately. Freelance work, job interviews, personal projects… etc. On top of it all, today’s subject is a hard to master subject, it requires a lot of research to get the gist of.<br>You only realize how hard OOP is when you get to do it in low level languages.</p>
<p>I had to include a <a href="/two-weeks-of-cpp-day-00/#Disclaimer">disclaimer</a> section at the top of all the articles because I recently got told by some more experienced C++ programmers that my articles are a shame to the community and that I don’t know what I’m writing about.</p>
<p>Of course I don’t know what I’m writing about, this is exactly why I’m writing about it. To make sure I understand it. I already said so in Day 00: The targeted readers for this series are Me, Myself and I.</p>
<p>The reason why I put it online is because I believe explaining a subject and getting feedback from someone else makes you understand it better. Problem is, I don’t have anyone around to listen to me explaining C++ to them. XD, so I use this blog to explain it and I add a comment section below for people to share their opinion.</p>
<p>So yeah, do not take anything I say here as “the right way”. Instead, try understanding it, question it and do your own research. If you believe I’m wrong, comment below and show me the light. :)</p>
<p>Here’s what to remember for the day:</p>
<ul>
<li>Express ideas directly in code</li>
<li>A concrete type is the simplest kind of class. Where applicable, prefer a concrete type over more complicated classes and over plain data structures</li>
<li>Use concrete classes to represent simple concepts and performance-critical components</li>
<li>Define a constructor to handle initialization of objects</li>
<li>Make a function a member only if it needs direct access to the representation of a class</li>
<li>Define operators primarily to mimic conventional usage</li>
<li>Use nonmember functions for symmetric operators</li>
<li>Declare a member function that does not modify the state of its object const</li>
<li>If a constructor acquires a resource, its class needs a destructor to release the resource</li>
<li>Avoid “naked” new and delete operations</li>
<li>Use resource handles and RAII to manage resources</li>
<li>If a class is a container, give it an initializer-list constructor</li>
<li>Use abstract classes as interfaces when complete separation of interface and implementation is needed</li>
<li>Access polymorphic objects through pointers and references</li>
<li>An abstract class typically doesn’t need a constructor</li>
<li>Use class hierarchies to represent concepts with inherent hierarchical structure</li>
<li>A class with a virtual function should have a virtual destructor</li>
<li>Use <code>override</code> to make overriding explicit in large class hierarchies</li>
<li>When designing a class hierarchy, distinguish between implementation inheritance and interface inheritance</li>
<li>Use dynamic_cast where class hierarchy navigation is unavoidable</li>
<li>Use dynamic_cast to a reference type when failure to find the required class is considered a failure</li>
<li>Use dynamic_cast to a pointer type when failure to find the required class is considered a valid alternative</li>
<li>Use unique_ptr or shared_ptr to avoid forgetting to delete objects created using new</li>
<li>Redefine or prohibit copying if the default is not appropriate for a type</li>
<li>Return containers by value (relying on move for efficiency)</li>
<li>For large operands, use const reference argument types</li>
<li>If a class has a destructor, it probably needs user-defined or deleted copy and move operations (Rule of 5)</li>
<li>Control construction, copy, move, and destruction of objects</li>
<li>Design constructors, assignments, and the destructor as a matched set of operations</li>
<li>If a default constructor, assignment, or destructor is appropriate, let the compiler generate it</li>
<li>By default, declare single-argument constructors explicit</li>
<li>If a class has a pointer or reference member, it probably needs a destructor and non-default copy operations</li>
<li>Provide strong resource safety; that is, never leak anything that you think of as a resource</li>
<li>If a class is a resource handle, it needs a constructor, a destructor, and non-default copy operations</li>
</ul>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>Difference between a concrete class and an abstract class: <a href="https://stackoverflow.com/questions/2149207/what-is-the-difference-between-a-concrete-class-and-an-abstract-class#2149488" target="_blank" rel="external">Stack Overflow</a></p>
<p>Operator overloading: <a href="https://docs.microsoft.com/en-us/cpp/cpp/operator-overloading" target="_blank" rel="external">Microsoft Docs</a></p>
<p>The move constructor: <a href="http://en.cppreference.com/w/cpp/language/move_constructor" target="_blank" rel="external">CppReference</a></p>
<p>The move assignment operator: <a href="http://en.cppreference.com/w/cpp/language/move_assignment" target="_blank" rel="external">CppReference</a></p>
<p>Lvalues and Rvalues: <a href="https://msdn.microsoft.com/en-us/library/f90831hc.aspx" target="_blank" rel="external">MSDN</a></p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Intro"><span class="toc-number">1.</span> <span class="toc-text">Intro</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Concrete-classes"><span class="toc-number">1.1.</span> <span class="toc-text">Concrete classes</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#const-as-suffix-of-method"><span class="toc-number">1.1.1.</span> <span class="toc-text">const as suffix of method</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#default-constructor"><span class="toc-number">1.1.2.</span> <span class="toc-text">default constructor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Operator-overloading"><span class="toc-number">1.1.3.</span> <span class="toc-text">Operator overloading</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-destructor"><span class="toc-number">1.1.4.</span> <span class="toc-text">The destructor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resource-Acquisition-Is-Initialization-RAII"><span class="toc-number">1.1.5.</span> <span class="toc-text">Resource Acquisition Is Initialization (RAII)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Initializing-containers"><span class="toc-number">1.1.6.</span> <span class="toc-text">Initializing containers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Initializer-list-constructor"><span class="toc-number">1.1.6.1.</span> <span class="toc-text">1. Initializer-list constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-push-back-method"><span class="toc-number">1.1.6.2.</span> <span class="toc-text">2. push_back method</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Abstract-classes"><span class="toc-number">1.2.</span> <span class="toc-text">Abstract classes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Virtual-functions"><span class="toc-number">1.3.</span> <span class="toc-text">Virtual functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-vtbl"><span class="toc-number">1.3.1.</span> <span class="toc-text">The vtbl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-virtual-destructor"><span class="toc-number">1.3.2.</span> <span class="toc-text">The virtual destructor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Explicit-overriding"><span class="toc-number">1.4.</span> <span class="toc-text">Explicit overriding</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hierarchy-navigation"><span class="toc-number">1.5.</span> <span class="toc-text">Hierarchy navigation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Avoiding-resource-leaks"><span class="toc-number">1.6.</span> <span class="toc-text">Avoiding resource leaks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Copy-and-Move"><span class="toc-number">1.7.</span> <span class="toc-text">Copy and Move</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Copying-containers"><span class="toc-number">1.7.1.</span> <span class="toc-text">Copying containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Moving-Containers"><span class="toc-number">1.7.2.</span> <span class="toc-text">Moving Containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-rvalue-reference"><span class="toc-number">1.7.3.</span> <span class="toc-text">The rvalue reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-default-delete-and-explicit-specifiers"><span class="toc-number">1.7.4.</span> <span class="toc-text">The default, delete and explicit specifiers</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Conclusion"><span class="toc-number">2.</span> <span class="toc-text">Conclusion</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-number">2.1.</span> <span class="toc-text">References</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://rameau.me/two-weeks-of-cpp-day-04/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://rameau.me/two-weeks-of-cpp-day-04/&text=Two Weeks of C++ - Day 04"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://rameau.me/two-weeks-of-cpp-day-04/&is_video=false&description=Two Weeks of C++ - Day 04"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Two Weeks of C++ - Day 04&body=Check out this article: https://rameau.me/two-weeks-of-cpp-day-04/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://rameau.me/two-weeks-of-cpp-day-04/&title=Two Weeks of C++ - Day 04"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://rameau.me/two-weeks-of-cpp-day-04/&name=Two Weeks of C++ - Day 04&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div id="code-sponsor-widget"></div>
  <script type="text/javascript"
    src="https://app.codesponsor.io/scripts/jNV1-MxKHipoKYcus3bhbg?theme=dark&image=hide&height=130"></script>
  <div class="footer-left">
    Copyright &copy; 2019 Joe-Bernick Rameau
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/fitvids.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-63759465-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'blog-rameau-me';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


